<!DOCTYPE html>
<html>
<head>
	<title>Survey - Paddy's Pub Social Network</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<!-- Link static CSS -->
	<link rel="stylesheet" type="text/css" href="/style.css">
    <link href="https://fonts.googleapis.com/css?family=Baloo|Roboto" rel="stylesheet">
    <!-- Jquery -->
    <script
    src="https://code.jquery.com/jquery-3.3.1.js"
    integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
    crossorigin="anonymous"></script>

</head>
<body>
	<div class="container content">
		<h1>Survey</h1>
		<p>Take a quick survey to find your perfect match! These questions are answered by the numbers 1 through 5. If you really, really disagree with the statement, your answer would be 1. If you find a statement to hit extremely close to home, put in a 5.</p>
		<form>
			<div class="form-group">
				<input id="name" type="text" class="form-control" placeholder="Name (Required)">
			</div>
			<div class="form-group">
				<input id="photo" type="text" class="form-control" placeholder="Link to Profile Photo (Required)">
			</div>
			<div class="form-group">
				<label for="question1">I like to do janitorial work.</label>
				<select class="form-control" id="question1">
					<option value="empty"></option>
					<option value="1">Strongly disagree 1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">Strongly agree 5</option>
				</select>
			</div>
			<div class="form-group">
				<label for="question2">I have some bird-like features (or so I've been told).</label>
				<select class="form-control" id="question2">
					<option value="empty"></option>
					<option value="1">Strongly disagree 1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">Strongly agree 5</option>
				</select>
			</div>
			<div class="form-group">
				<label for="question3">I think very highly of myself.</label>
				<select class="form-control" id="question3">
					<option value="empty"></option>
					<option value="1">Strongly disagree 1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">Strongly agree 5</option>
				</select>
			</div>
			<div class="form-group">
				<label for="question4">I enjoy martial arts.</label>
				<select class="form-control" id="question4">
					<option value="empty"></option>
					<option value="1">Strongly disagree 1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">Strongly agree 5</option>
				</select>
			</div>
			<div class="form-group">
				<label for="question5">I read as a hobby.</label>
				<select class="form-control" id="question5">
					<option value="empty"></option>
					<option value="1">Strongly disagree 1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">Strongly agree 5</option>
				</select>
			</div>
			<div class="form-group">
				<label for="question6">I am God's gift to the opposite sex.</label>
				<select class="form-control" id="question6">
					<option value="empty"></option>
					<option value="1">Strongly disagree 1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">Strongly agree 5</option>
				</select>
			</div>
			<div class="form-group">
				<label for="question7">I don't so well with the opposite sex.</label>
				<select class="form-control" id="question7">
					<option value="empty"></option>
					<option value="1">Strongly disagree 1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">Strongly agree 5</option>
				</select>
			</div>
			<div class="form-group">
				<label for="question8">I am good with money.</label>
				<select class="form-control" id="question8">
					<option value="empty"></option>
					<option value="1">Strongly disagree 1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">Strongly agree 5</option>
				</select>
			</div>
			<div class="form-group">
				<label for="question9">I work out at the gym often.</label>
				<select class="form-control" id="question9">
					<option value="empty"></option>
					<option value="1">Strongly disagree 1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">Strongly agree 5</option>
				</select>
			</div>
			<div class="form-group">
				<label for="question10">I consider myself aggressive.</label>
				<select class="form-control" id="question10">
					<option value="empty"></option>
					<option value="1">Strongly disagree 1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">Strongly agree 5</option>
				</select>
			</div>
		</form>
  
      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>
	   Submit</button>
	   
	   <div class="row">
		<div class="col-6-md" id="content-holder"></div>
	</div>
  
      <hr>
      <footer class="footer">
        <div class="container">
          <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/afhaque/friendfinder">GitHub Repo</a></p>
        </div>
      </footer>
  
    </div>
  
    <!-- Modal -->
    <div id="results-modal" class="modal fade" role="dialog">
      <div class="modal-dialog">
  
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">Ã—</button>
            <h2 class="modal-title"><strong>Best Match</strong></h2>
          </div>
          <div class="modal-body">
            <h2 id="match-name"></h2>
            <img id="match-img" src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/6/005/064/1bd/3435aa3.jpg" alt="">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
  
      </div>
    </div>

  
<script type="text/javascript">

$("#submit").on("click", function(event){
    
    event.preventDefault()

    var newFriend = {
        name: $("#name").val().trim(),
        photos: $("#photo").val().trim(),
        scores: [
        $('#question1').val(),
        $('#question2').val(),
        $('#question3').val(),
        $('#question4').val(),
        $('#question5').val(),
        $('#question6').val(),
        $('#question7').val(),
        $('#question8').val(),
        $('#question9').val(),
        $('#question10').val()
    ]
    };

    console.log(newFriend)
    
    // console.log(newFriend)
    
    var currentURL = window.location.origin;
    
    $.post(currentURL + "/api/friends", newFriend,
    function(Data){
	console.log(Data)
	var g = $("<div>")
			g.text("Your New Best Friend: " + Data.name);
			$("#content-holder").append(g)
			$('#content-holder').append('<img id="theImg" src= "' + Data.photo + '" />')

		
	
});     
	
$.ajax({url: currentURL + "/api/friends", method: "GET"})
	.done(function(Data) {
		console.log(Data)
				
	})

})
</script>
  
  
  
  